<!-- 
  Opening Screen Animation Component
  
  A full-screen overlay that displays an animated prism effect before
  revealing the main application content underneath.
-->
<div class="opening-screen-container" [class.is-revealing]="isRevealing()" [class.is-complete]="isComplete()"
    [attr.aria-hidden]="true" role="presentation" (click)="skipAnimation()" (keydown.enter)="skipAnimation()"
    (keydown.space)="skipAnimation()" tabindex="0">
    <!-- Background Overlay with Blur -->
    <div class="background-overlay" [class.fade-out]="shouldFadeBackground()"></div>

    <!-- Gradient Overlay -->
    <div class="gradient-overlay" [class.fade-out]="shouldFadeBackground()"></div>

    <!-- Prism Animation Container -->
    <div class="prism-wrapper" [class.scale-out]="isRevealing()">
        <!-- The Prism Element -->
        <div class="prism" [class.is-pulsing]="isPulsing()" [class.is-flashing]="isFlashing()">
            <!-- Outer Glass Shell -->
            <div class="prism-shell"></div>

            <!-- Inner Refraction Layer -->
            <div class="prism-refraction"></div>

            <!-- Core Glow -->
            <div class="prism-core">
                <div class="prism-core-inner"></div>
            </div>

            <!-- Flash Burst Effect -->
            <div class="prism-flash" *ngIf="isFlashing()"></div>
        </div>

        <!-- Optional: Loading Text -->
        <p class="loading-text" *ngIf="isPulsing()">
            <span class="loading-text-inner">Loading</span>
            <span class="loading-dots">
                <span class="dot">.</span>
                <span class="dot">.</span>
                <span class="dot">.</span>
            </span>
        </p>
    </div>

    <!-- Ripple Reveal Effect -->
    <div class="ripple-reveal" *ngIf="isRevealing()"></div>

    <!-- Skip hint -->
    <p class="skip-hint" *ngIf="isPulsing()">
        Click anywhere to skip
    </p>
</div>